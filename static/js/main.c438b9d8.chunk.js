(this["webpackJsonpdouble-color-reversi"]=this["webpackJsonpdouble-color-reversi"]||[]).push([[0],{11:function(e,t,r){},12:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(1),o=r.n(c),l=r(5),a=r.n(l),i=(r(11),r(2));r(4);function s(e){var t=function(){if(null===e.color)return null;var t,r=e.value<=1?null:Object(n.jsx)("span",{style:{color:(t=e.color,"#"!==t[0]||(299*parseInt(t.substr(1,2),16)+587*parseInt(t.substr(3,2),16)+114*parseInt(t.substr(5,2),16))/1e3<128?"white":"black")},children:"+"+(e.value-1).toString()});return Object(n.jsx)("div",{className:"stoneElement",style:{background:e.color},children:r})}();return Object(n.jsx)("div",{style:{width:e.size,height:e.size,border:"1px solid black",backgroundColor:e.isSettable?"#ffa399":"none"},onClick:function(){return e.onClick()},children:t})}function u(e){var t=function(t,r){for(var c=!1,o=0;o<e.settablePositions.length;o++)if(e.settablePositions[o].row===t.row&&e.settablePositions[o].col===t.col){c=!0;break}return Object(n.jsx)(s,{size:(80/e.size).toString()+"vmin",color:r.color,value:r.value,isSettable:c,onClick:function(){return e.setStone(t)}},t.row.toString()+t.col.toString())},r=function(r){for(var c=[],o=0;o<e.size;o++){var l=t({row:r,col:o},e.data[r][o]);c.push(l)}return Object(n.jsx)("div",{className:"fieldLine",children:c},r.toString())},c=function(){for(var t=[],c=0;c<e.size;c++)t.push(r(c));return Object(n.jsx)("div",{className:"field",children:t})}();return Object(n.jsx)("div",{className:"fieldWrapper",children:c})}function j(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"color",onChange:function(t){return function(t){e.setState(t.target.value)}(t)}}),Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:function(t){return function(t){var r=t.target.files[0],n=new FileReader;n.addEventListener("load",(function(){e.setState("url(".concat(n.result,")"))})),n.readAsDataURL(r)}(t)}})]})}function b(){var e=function(e){switch(e.target.name){case"player0":w([e.target.value,y[1]]);break;case"player1":var t=parseInt(e.target.value);"size"!==y[0]||isNaN(t)||t>=4&&t<=100&&P(t),w([y[0],e.target.value])}},t=function(e,t){var r=JSON.parse(JSON.stringify(m));r[t]=e,J(r)},r=function(){return JSON.parse(JSON.stringify(Array(I).fill(Array(I).fill({color:null,value:0}))))},o=Object(c.useState)(!1),l=Object(i.a)(o,2),a=l[0],s=l[1],b=Object(c.useState)(!1),f=Object(i.a)(b,2),v=f[0],d=f[1],O=Object(c.useState)(0),h=Object(i.a)(O,2),p=h[0],x=h[1],g=Object(c.useState)(["player1","player2"]),S=Object(i.a)(g,2),y=S[0],w=S[1],N=Object(c.useState)(["black","red","blue","green"]),k=Object(i.a)(N,2),m=k[0],J=k[1],C=Object(c.useState)(10),z=Object(i.a)(C,2),I=z[0],P=z[1],F=Object(c.useState)(r()),L=Object(i.a)(F,2),E=L[0],M=L[1],A=Object(c.useState)([8,8]),T=Object(i.a)(A,2),B=T[0],D=T[1],R=Object(c.useState)([]),U=Object(i.a)(R,2),W=U[0],q=U[1];Object(c.useEffect)((function(){for(var e=[],t=0;t<I;t++)for(var r=0;r<I;r++){var n={row:t,col:r};0!=Y(n)&&e.push(n)}q(e)}),[p,E]);var G=function(){!function(){var e=r(),t=I/2-2,n=I/2-2;e[t][n]={color:m[0],value:1},e[t][n+1]={color:m[1],value:1},e[t][n+2]={color:m[2],value:1},e[t][n+3]={color:m[3],value:1},e[t+1][n]={color:m[1],value:1},e[t+1][n+1]={color:m[0],value:1},e[t+1][n+2]={color:m[3],value:1},e[t+1][n+3]={color:m[2],value:1},e[t+2][n]={color:m[2],value:1},e[t+2][n+1]={color:m[3],value:1},e[t+2][n+2]={color:m[0],value:1},e[t+2][n+3]={color:m[1],value:1},e[t+3][n]={color:m[3],value:1},e[t+3][n+1]={color:m[2],value:1},e[t+3][n+2]={color:m[1],value:1},e[t+3][n+3]={color:m[0],value:1},M(e)}(),w(function(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}(y)),s(!0)},H=function(){for(var e=[0,0],t=0;t<E.length;t++)for(var r=0;r<E[t].length;r++)for(var n=0;n<m.length;n++)if(E[t][r].color===m[n]){e[n%2]+=Math.pow(E[t][r].value,2);break}return e},K=function(){!function(){for(var e=0;e<E.length;e++)for(var t=0;t<E[e].length;t++)if(null===E[e][t].color)return!1;return!0}()?(D(H()),x(p+1)):function(){var e=H();console.log(e),d(!0)}()},Q=function(e,t){var r=E.slice(),n=r[e.row][e.col];n.color=t,r[e.row][e.col]=n,M(r)},V=function(e,t){var r=E.slice(),n=r[e.row][e.col];n.value=n.value+t,r[e.row][e.col]=n,M(r)},X=function(e,t){if(E[e.row][e.col].color!==t){if(null===E[e.row][e.col].color)return Q(e,t),void V(e,1);for(var r=null,n=0;n<m.length;n++)E[e.row][e.col].color===JSON.parse(JSON.stringify(m[n]))&&(r=n);null!==r&&(p%2===r%2?(Q(e,t),V(e,1)):E[e.row][e.col].value>=2?V(e,-1):Q(e,t))}},Y=function(e,t){for(var r=[[1,0],[0,1],[1,1],[-1,1]],n=[JSON.parse(JSON.stringify(e))],c=0;c<r.length;c++)for(var o=-1;o<=1;o+=2){var l=JSON.parse(JSON.stringify(e)),a=[],i=!1;for(l.row+=o*r[c][0],l.col+=o*r[c][1];l.row>=0&&l.row<I&&l.col>=0&&l.col<I&&null!==E[l.row][l.col].color;){if(E[l.row][l.col].color===t){i=!0;break}a.push(JSON.parse(JSON.stringify(l))),l.row+=o*r[c][0],l.col+=o*r[c][1]}i&&(n=n.concat(a))}return n.length<=1&&(n=[]),n};return Object(n.jsx)("div",{children:a?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{children:[y[0],": ",Object(n.jsx)("span",{style:{color:m[0]},children:m[0]}),", ",Object(n.jsx)("span",{style:{color:m[2]},children:m[2]}),"\u3000"]}),Object(n.jsxs)("span",{children:[y[1],": ",Object(n.jsx)("span",{style:{color:m[1]},children:m[1]}),", ",Object(n.jsx)("span",{style:{color:m[3]},children:m[3]})]})]}),Object(n.jsxs)("span",{children:["turn: ",Object(n.jsx)("span",{style:{color:m[p%4]},children:m[p%4]}),"\u3000"]}),Object(n.jsxs)("span",{children:[y[0],": ",B[0],"\u3000"]}),Object(n.jsxs)("span",{children:[y[1],": ",B[1]]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"button",onClick:function(){return K()},children:"pass"})}),Object(n.jsx)(u,{data:E,size:I,setStone:v?function(){}:function(e){if(null===E[e.row][e.col].color){var t=m[p%4],r=Y(e,t);if(0!=r){for(var n=0;n<r.length;n++)X(r[n],t);K()}}},settablePositions:W})]}),Object(n.jsx)("div",{className:"fadeTrans fullScreen",style:{visibility:v?"visible":"hidden",opacity:v?1:0},children:"end"})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{name:"player0",type:"text",value:y[0],onChange:function(t){return e(t)}}),Object(n.jsx)("p",{children:"\u82721"}),Object(n.jsx)(j,{setState:function(e){m.includes(e)||t(e,0)}}),Object(n.jsx)("p",{children:"\u82722"}),Object(n.jsx)(j,{setState:function(e){m.includes(e)||t(e,2)}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{name:"player1",type:"text",value:y[1],onChange:function(t){return e(t)}}),Object(n.jsx)("p",{children:"\u82721"}),Object(n.jsx)(j,{setState:function(e){m.includes(e)||t(e,1)}}),Object(n.jsx)("p",{children:"\u82722"}),Object(n.jsx)(j,{setState:function(e){m.includes(e)||t(e,3)}})]}),Object(n.jsx)("button",{type:"button",onClick:function(){return G()},children:"start"})]})})}var f=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,13)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,l=t.getTTFB;r(e),n(e),c(e),o(e),l(e)}))};a.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(b,{})}),document.getElementById("root")),f()},4:function(e,t,r){}},[[12,1,2]]]);
//# sourceMappingURL=main.c438b9d8.chunk.js.map